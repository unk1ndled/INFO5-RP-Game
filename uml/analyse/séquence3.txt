@startuml
actor "Utilisateur" as User
participant "Système" as S

== Création de la proposition de partie ==
User -> S : Créer une proposition de partie
S -> User : Demander informations\n(titre, univers, résumé initial,\ndate, lieu)
User -> S : Fournir informations
S -> User : Proposition créée\n(utilisateur devient MJ,\nstatus = PROPOSITION)

== Gestion des participants ==
User -> S : Lister personnages disponibles\n(même univers, MJ assigné)
S -> User : Liste des personnages
User -> S : Ajouter personnage à la partie
S -> S : Vérifier contraintes\n(univers, MJ, pas déjà ajouté)
S -> User : Personnage ajouté

alt Gestion participants
    User -> S : Retirer personnage de la partie
    S -> S : Vérifier partie non terminée
    S -> User : Personnage retiré
end

alt Suppression proposition
    User -> S : Supprimer proposition
    S -> S : Vérifier partie non terminée
    S -> User : Proposition supprimée
end

== Finalisation de la partie ==
User -> S : Finaliser partie
S -> User : Demander résumé des événements
User -> S : Fournir résumé
S -> User : Partie terminée\n(status = AVENTURE, terminee = true)

S -> S : Créer épisodes automatiques\n(pour chaque participant)
S -> S : Ajouter résumé comme épisode\ndans biographie du participant

note right : Partie maintenant immuable,\nparticipants ne peuvent plus\nêtre modifiés, transferts\nbloqués si participation active
@enduml
